---
icon: ğŸ“†
slug: '201106'
title: '201106'
main_category: Log
category: 2020
tags: ['JavaScript', 'ë©´ì ‘ ì¤€ë¹„']
author: Younho Choo
author_title: younho9
author_url: https://github.com/younho9
author_image_url: https://avatars.githubusercontent.com/u/48426991
created_time: 2020-11-06
updated_time: 2021-02-15
---

## ì¼ë°˜ í•¨ìˆ˜ vs í™”ì‚´í‘œ í•¨ìˆ˜

```javascript
const shape = {
	radius: 10,
	diameter() {
		return this.radius * 2;
	},
	arrowDiameter: () => {
		return this.radius * 2;
	},
};

console.log(shape.diameter());
// 20
console.log(shape.arrowDiameter());
// NaN

const diameter = shape.diameter;
const arrowDiameter = shape.arrowDiameter;

console.log(diameter());
// NaN
console.log(arrowDiameter());
// NaN
```

```javascript
function Shape() {
	this.radius = 10;
	this.diameter = function () {
		return this.radius * 2;
	};
	this.arrowDiameter = () => {
		return this.radius * 2;
	};
}

const shape = new Shape();

console.log(shape.diameter());
// 20
console.log(shape.arrowDiameter());
// 20

const diameter = shape.diameter;
const arrowDiameter = shape.arrowDiameter;

console.log(diameter());
// NaN
console.log(arrowDiameter());
// 20
```

- ì¼ë°˜ í•¨ìˆ˜ëŠ” **í˜¸ì¶œí•  ë•Œ ë™ì ìœ¼ë¡œ** `this` ë¥¼ ë°”ì¸ë”©í•œë‹¤.

- í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” **ì„ ì–¸í•  ë•Œ ì •ì ìœ¼ë¡œ** `this` ë¥¼ ë°”ì¸ë”©í•œë‹¤. (ì–¸ì œë‚˜ ìƒìœ„ ìŠ¤ì½”í”„ì˜ `this` ë¥¼ ê°€ë¦¬í‚¨ë‹¤.)

- ì¼ë°˜ í•¨ìˆ˜ëŠ” `prototype` í”„ë¡œí¼í‹°ë¥¼ ê°€ì§„ë‹¤. â‡’ `constructor` í•¨ìˆ˜ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.

- í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” `prototype` í”„ë¡œí¼í‹°ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤. â‡’ `constructor` í•¨ìˆ˜ë¡œì‚¬ìš©ë  ìˆ˜ ì—†ë‹¤.

<br />

## ìƒì„±ì í•¨ìˆ˜(constructor)ì™€ í”„ë¡œí† íƒ€ì…(prototype)

```javascript
function Person(name, age) {
	this.name = name;
	this.age = age;
}

// Person.prototype = { constructor: function Person(...) { ... } }
// Person.prototype.constructor = function Person(...) { ... }

const foo = new Person('foo', 30);
// foo: Person { name: 'foo', age: 30 }
// foo.__proto__: { constructor: function Person(...) { ... } }
// foo.__proto__.constructor = function Person(...) { ... }
```

<br />

![2020-11-06-201106-image-0](./images/2020-11-06-201106-image-0.png)

<br />

![2020-11-06-201106-image-1](./images/2020-11-06-201106-image-1.png)

> â˜ `__proto__` ëŠ” ECMAScriptì˜ ìŠ¤í™ì´ ì•„ë‹Œ ì¼ë¶€ ëª¨ë˜ ë¸Œë¼ìš°ì €ê°€ êµ¬í˜„í•œ ê²ƒìœ¼ë¡œ, `[[Prototype]]` ë¥¼ ì ‘ê·¼í•˜ëŠ” ì†ì„±ì´ë‹¤.

```javascript
function Person(name) {
	this.name = name;
	this.getName = function () {
		return this.name;
	};
}

console.log(Person.prototype); // { constructor: function Person(name) { ... } }

function Child(name, age) {
	Person.call(this, name);
	this.age = age;
	this.getAge = function () {
		return this.age;
	};
}

console.log(Child.prototype); // { constructor: function Child(name, age) { ... } }

Child.prototype = Object.create(Person.prototype);

console.log(Object.create(Person.prototype)); // Person {}
console.log(Child.prototype); // Person {}
console.log(Child.prototype.constructor); // function Person(name) { ... }

Child.prototype.constructor = Child;

console.log(Child.prototype);
// Person { constructor: function Child(name, age) { ... } }

var child = new Child('foo', 20);

console.log(child.getName()); // 'foo'
console.log(child.getAge()); // 20
```

## í´ë˜ìŠ¤ ë¬¸ë²•ì€ ë‹¨ì§€ "êµ¬ë¬¸ì  ì„¤íƒ•" ì¸ê°€?

```javascript
class User {
	constructor(name) {
		this.name = name;
	}

	sayHi() {
		alert(this.name);
	}
}

let user = new User('John');
user.sayHi();
```

```javascript
function User(name) {
	this.name = name;
}

User.prototype.sayHi = function () {
	alert(this.name);
};

let user = new User('John');
user.sayHi();
```

ES6ì˜ í´ë˜ìŠ¤ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ì¼ì¹˜í•œ ê²°ê³¼ë¥¼ ê¸°ì¡´ `function` + `prototype` ë¬¸ë²•ì˜ ì¡°í•©ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¼ë¶€ ì‚¬ëŒë“¤ì€ ë‹¨ì§€ í´ë˜ìŠ¤ ë¬¸ë²•ì„ "êµ¬ë¬¸ì  ì„¤íƒ•" (syntax sugar)ë¼ê³  ë§í•œë‹¤.

í•˜ì§€ë§Œ ëª‡ ê°€ì§€ ì¤‘ìš”í•œ ì°¨ì´ê°€ ìˆë‹¤.

1. `class` ë¬¸ë²•ì„ ì‚¬ìš©í•´ì„œ ë§Œë“  í•¨ìˆ˜ì—” íŠ¹ìˆ˜ ë‚´ë¶€ í”„ë¡œí¼í‹°ì¸ `[[FunctionKind]]: "classConstructor"` ê°€ ì´ë¦„í‘œì²˜ëŸ¼ ë¶™ì–´ì„œ, ì´ í´ë˜ìŠ¤ ìƒì„±ìë¥¼ `new` ì™€ í•¨ê»˜ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

1. í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œëŠ” `non-enumerable` ë¡œ, `for ... in` êµ¬ë¬¸ ë“±ì˜ ê°ì²´ ìˆœíšŒì—ì„œë©”ì†Œë“œëŠ” ìˆœíšŒí•˜ì§€ ì•ŠëŠ”ë‹¤. (enumerable í”Œë˜ê·¸ê°€ false ì´ë‹¤.)

1. í´ë˜ìŠ¤ëŠ” í•­ìƒ `use strict` ëª¨ë“œì´ë‹¤.

1. ì´ì™¸ì—ë„ getter, setter, ë¯¹ìŠ¤ì¸ ë“±ì˜ ê¸°ëŠ¥ì´ ìˆë‹¤.

### í´ë˜ìŠ¤ì™€ í•¨ìˆ˜ì—ì„œì˜ `new` ì—°ì‚°ì ë™ì‘

![2020-11-06-201106-image-2](./images/2020-11-06-201106-image-2.png)
