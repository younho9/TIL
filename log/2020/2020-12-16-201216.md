---
icon: ğŸ“†
slug: '201216'
title: '201216'
main_category: Log
category: 2020
tags: ['Auth', 'Storybook', 'Styled-components']
author: Younho Choo
author_title: younho9
author_url: https://github.com/younho9
author_image_url: https://avatars.githubusercontent.com/u/48426991
created_time: 2020-12-16
updated_time: 2021-02-15
---

## ì¸ì¦ ì„œë¹„ìŠ¤ ê¸°ì´ˆ ê°•ì˜

### Auth Service Fundamentals

- êµ¬ê¸€ê³¼ ìœ íŠœë¸Œì˜ ì‚¬ë¡€ - ì¸ì¦ì´ í•„ìš”í•œ ì´ìœ ê°€ ìˆì–´ì•¼ í•œë‹¤.

![2020-12-16-201216-image-0](./images/2020-12-16-201216-image-0.png)

- ì„œë¹„ìŠ¤ ì œê³µì : íšŒì› í™•ë³´ â†’ ë°ì´í„° ë¶„ì„ â†’ ì„œë¹„ìŠ¤ ë°©í–¥ ì„¤ì •, ë‹¤ì–‘í•œ ë§ˆì¼€íŒ… í™œìš©

- ì‚¬ìš©ì : ì„œë¹„ìŠ¤ ì´ìš© í¸ì˜ì„±, ê°œì¸í™” ì„œë¹„ìŠ¤ ì´ìš©

#### íšŒì› ê°€ì…

- ì„œë¹„ìŠ¤ì˜ ì¼ì›ì´ ë˜ê¸° ìœ„í•œ ì ˆì°¨

- ì´ ê³¼ì •ì„ ê±°ì¹˜ì§€ ëª»í•œë‹¤ë©´ ê²½ìš°ì— ë”°ë¼ì„œ í•´ë‹¹ ì„œë¹„ìŠ¤ì— ê²Œì‹œë˜ì–´ ìˆëŠ” ê¸€ ìì²´ë¥¼
  ëª» ë³´ê²Œ ë˜ëŠ” ë“± ê°€ì…ìë“¤ì— ë¹„í•´ í™œë™ì˜ ì œì•½ì´ ë°œìƒ

#### ë¡œê·¸ì¸

- ë¡œê·¸ì¸ì€ ì ‘ê·¼ í—ˆê°€ ì¦ëª…ì„ ì–»ê¸° ìœ„í•´ ì‚¬ìš©ì ì¸ì¦ìœ¼ë¡œ ê°œì¸ì´ ì»´í“¨í„° ì‹œìŠ¤í…œì— ì ‘
  ê·¼í•˜ëŠ” ì‘ì—…

<br />

#### ì¸ì¦ ë°©ë²•

![2020-12-16-201216-image-1](./images/2020-12-16-201216-image-1.png)

#### Authentication vs Authorization

![2020-12-16-201216-image-2](./images/2020-12-16-201216-image-2.png)

- Authorizationì€ ì˜¬ë°”ë¥´ê²Œ ì¸ì¦ëœ ìœ ì €ì—ê²Œ ìì›ì˜ ì†Œìœ ìê°€ í—ˆê°€í•œ ìì›ì— ì ‘ê·¼í• 
  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ê²ƒì´ë‹¤.

#### OAuth 2.0

- OAuth 2.0ì€ ë‹¤ì–‘í•œ í”Œë«í¼ í™˜ê²½ì—ì„œ ê¶Œí•œ ë¶€ì—¬ë¥¼ ìœ„í•œ í‘œì¤€ í”„ë¡œí† ì½œ

- ì œ 3ì˜ ì•±ì´ ìì›ì˜ ì†Œìœ ìì¸ ì„œë¹„ìŠ¤ ì´ìš©ìë¥¼ ëŒ€ì‹ í•˜ì—¬ ì„œë¹„ìŠ¤ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆë„ë¡
  ìì› ì ‘ê·¼ ê¶Œí•œì„ ìœ„ì„í•˜ëŠ” ë°©ë²•

![2020-12-16-201216-image-3](./images/2020-12-16-201216-image-3.png)

![2020-12-16-201216-image-4](./images/2020-12-16-201216-image-4.png)

### Sample

í•„ìˆ˜ ì •ë³´ - `key` (ì‚¬ìš©ìì— ëŒ€í•œ ìœ ë‹ˆí¬ ê°’), `id` , `password`

- ? ìœ ì € ì•„ì´ë””ë¥¼ `key` ë¡œ ì‚¬ìš©í–ˆì„ ë•Œì˜ ë¬¸ì œì 

  - `id` ëŠ” public í•˜ë‹¤.

  - `id` ëŠ” ë³€ê²½ë  ìˆ˜ ìˆë‹¤. (ìœ ì €ì˜ `key` ê°’ì´ ë°”ë€” ìˆ˜ ìˆë‹¤.)

    - ê´€ê³„ëœ ë°ì´í„°ì— ë¬¸ì œê°€ ë°œìƒí•œë‹¤.

- `id` ëŠ” `unique` í•´ì•¼ í•œë‹¤.

  - ëŒ€ì†Œë¬¸ìë¥¼ í—ˆìš©í•  ê²½ìš° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

- `password` ëŠ” ì•”í˜¸í™” ë˜ì–´ì•¼ í•œë‹¤.

![2020-12-16-201216-image-5](./images/2020-12-16-201216-image-5.png)

- - ê°€ì… ì¼ì

- `key` ê°’ìœ¼ë¡œ ìˆ«ìë¥¼ ì‚¬ìš©í•˜ë©´ ê³µê²©ì˜ ì—¬ì§€ë¥¼ ì¤„ ìˆ˜ ìˆë‹¤.

- ë¬¸ìì—´ì„ ë§ì´ ì“°ëŠ”ë°, ìœ ì¶”í•˜ê¸° ì–´ë ¤ì›Œì•¼ í•œë‹¤.

- `user_id` ëŠ” ì´ë©”ì¼ì„ ë§ì´ ì“°ëŠ”ë°, ì´ë©”ì¼ì€ ìœ ë‹ˆí¬ í•˜ë‹¤ëŠ” ì ì´ ë³´ì¥ëœë‹¤.

  - ì´ë©”ì¼ì´ í•´ë‹¹ ìœ ì €ì˜ ì†Œìœ ì¸ì§€ ì¸ì¦ ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.

- `password` ëŠ” ë¬¸ìì™€ ìˆ«ì, íŠ¹ìˆ˜ ë¬¸ì ë“±ì„ ì¡°í•©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

![2020-12-16-201216-image-6](./images/2020-12-16-201216-image-6.png)

![2020-12-16-201216-image-7](./images/2020-12-16-201216-image-7.png)

![2020-12-16-201216-image-8](./images/2020-12-16-201216-image-8.png)

- Cookie vs Session

[ì¿ í‚¤ê°€ ë³´ì•ˆì— ì·¨ì•½í•œ ì´ìœ ](https://marga.tistory.com/291)

![2020-12-16-201216-image-9](./images/2020-12-16-201216-image-9.png)

![2020-12-16-201216-image-10](./images/2020-12-16-201216-image-10.png)

ë§ì€ ê²½ìš° ì¿ í‚¤ì— `token` ì„ ë„£ëŠ”ë°, ë³´ì•ˆ ì¸¡ë©´ì—ì„œ ê·¸ëƒ¥ ë„£ëŠ” ê²½ìš°, ì¡°í•©í•´ì„œ ë„£ëŠ”
ê²½ìš° ë“±ì´ ìˆë‹¤.

![2020-12-16-201216-image-11](./images/2020-12-16-201216-image-11.png)

- access token ì€ ì‹œê°„ ë‹¨ìœ„ë¥¼ ë§ì´ ì“°ê³  `ex) 6ì‹œê°„` , refresh tokenì€ ëª‡ ì¼ ë‹¨ìœ„
  , `ex) 1ì£¼ 2ì£¼ í•œ ë‹¬`

![2020-12-16-201216-image-12](./images/2020-12-16-201216-image-12.png)

- ì¬ë°œê¸‰ í•˜ì§€ ì•Šê³  ê¸°ì¡´ ê²ƒì„ ì‚¬ìš©í•˜ë©´, refresh tokenì€ ì–¸ì  ê°€ ë§Œë£Œ ë˜ì–´ ì‚¬ìš©ìì—
  ê²Œ ë¶ˆí¸í•¨ì„ ì¤„ ìˆ˜ ìˆë‹¤.

- í•­ìƒ ì‹ ê·œë¡œ ë°œê¸‰í•˜ë©´, ì—¬ëŸ¬ í”Œë«í¼ ê°„ì— ì¬ë°œê¸‰ ëœ í† í°ì„ ì–´ë–»ê²Œ ë™ê¸°í™” í•  ê²ƒì´
  ëƒì— ëŒ€í•œ ê³ ë¯¼ì´ í•„ìš”í•˜ë‹¤.

<br />

## Storybook ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼ ì„¤ì •

`preview.js`

```javascript
import React from 'react';

import {ThemeProvider} from 'styled-components';

import GlobalStyle from 'src/styles/GlobalStyle';
import theme from 'src/styles/theme';

export const parameters = {
  actions: {argTypesRegex: '^on[A-Z].*'},
};

export const decorators = [
  (Story) => (
    <ThemeProvider theme={theme}>
      <GlobalStyle />
      <Story />
    </ThemeProvider>
  ),
];
```

<br />

### Styled-components

[The Advanced Way to Style with Styled Components](https://medium.com/javascript-in-plain-english/the-advanced-way-to-style-with-styled-components-98fb70c1eecc)

ì´ìŠˆ - styled-componentsì˜ craeteGlobalStyle ì ìš© ì‹œ user agent stylesheetê°€
override í•˜ëŠ” ì´ìŠˆ

![2020-12-16-201216-image-13](./images/2020-12-16-201216-image-13.png)

<br />

### Validation

[Use RegEx To Test Password Strength In JavaScript](https://www.thepolyglotdeveloper.com/2015/05/use-regex-to-test-password-strength-in-javascript/)

[Form Validation](https://codesandbox.io/s/form-validation-ievlc?from-embed=&file=/src/Form.js:549-561)
