---
icon: ğŸ“†
slug: '210110'
title: '210110'
main_category: Log
category: 2021
tags: ['ìƒì‚°ì„±', 'MacOS', 'Shell']
author: Younho Choo
author_title: younho9
author_url: https://github.com/younho9
author_image_url: https://avatars.githubusercontent.com/u/48426991
created_time: 2021-01-10
updated_time: 2021-02-15
---

## Crontabìœ¼ë¡œ ë§¤ì¼ ìŠ¤í¬ë¦°ìƒ· ê´€ë¦¬í•˜ê¸°

### í™˜ê²½

- MacOS + zsh

- Google Drive File Stream (ë¬´ì œí•œ ìš©ëŸ‰)

<br />

### ëª©ì 

- MacOS ìš©ëŸ‰ ë¶€ì¡±

- ì°ì€ ìŠ¤í¬ë¦°ìƒ·ì´ë‚˜ ë™ì˜ìƒ ë³´ê´€

- í•˜ë£¨ë§ˆë‹¤ ìŠ¤í¬ë¦°ìƒ· í´ë”ì— íŒŒì¼ì´ ìŒ“ì´ëŠ” ê²ƒ ë°©ì§€

- Dockì—ì„œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ê´€ë¦¬

### ìŠ¤í¬ë¦°ìƒ· ì„¤ì •

- ìŠ¤í¬ë¦°ìƒ·ì˜ ì €ì¥ ìœ„ì¹˜ë¥¼ êµ¬ê¸€ ë“œë¼ì´ë¸Œ íŒŒì¼ ìŠ¤íŠ¸ë¦¼ì˜ íŠ¹ì • í´ë”ë¡œ ì§€ì •

### ì‰˜ ìŠ¤í¬ë¦½íŠ¸

- screenshots í´ë”ì— íŒŒì¼ì´ ìˆìœ¼ë©´

  - ëª¨ë‘ prev-screenshotsë¡œ ë³µì‚¬í•œë‹¤.

  - screenshots í´ë”ì˜ íŒŒì¼ì„ ëª¨ë‘ ì§€ìš´ë‹¤ (ì§€ìš¸ ë•Œ confirm [y/n] ë©”ì‹œì§€ ë„ìš°ì§€ ì•Šê²Œ ì˜µì…˜ ì„¤ì •)

- ì—†ìœ¼ë©´ ì—ì½”

`~/scripts/mv_screenshots.sh`

```bash
#!/bin/zsh

target=/Volumes/GoogleDrive/ë‚´\ ë“œë¼ì´ë¸Œ/ì´ë¯¸ì§€/screenshots
archive=/Volumes/GoogleDrive/ë‚´\ ë“œë¼ì´ë¸Œ/ì´ë¯¸ì§€/prev-screenshots

if find "$target" -mindepth 1 -print -quit 2>/dev/null | grep -q .; then
    setopt localoptions rmstarsilent
    cp -R "$target" "$archive/`date +\%Y-\%m-\%d`"
    rm "$target"/*
else
    echo "Target '$target' is empty"
fi
```

[Bash checking if folder has contents](https://stackoverflow.com/questions/20456666/bash-checking-if-folder-has-contents)

[Why does rm -f ask me for confirmation on zsh?](https://stackoverflow.com/questions/27988160/why-does-rm-f-ask-me-for-confirmation-on-zsh)

<br />

### í¬ë¡ íƒ­ ì„¤ì •

- ë§¤ì¼ ì˜¤í›„ 11:30ì— ì‰˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ê³  ì‹¤í–‰í•œ ê²°ê³¼ë¥¼ ë‹¹ì¼ì˜ ë¡œê·¸ íŒŒì¼ë¡œ ê¸°ë¡í•œë‹¤.

`crontab -e`

```bash
30 23 * * * zsh ~/scripts/mv_screenshots.sh >> ~/log/job_`date +\%Y-\%m-\%d`.log 2>&1
```

[ì‘ì—… ìŠ¤ì¼€ì¥´ëŸ¬ í¬ë¡ (Cron) ê°„ë‹¨ ì‚¬ìš©ë²•](https://www.letmecompile.com/scheduler-cron-tutorial/)

[Crontab.guru - The cron schedule expression editor](https://crontab.guru/)

<br />
